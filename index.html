<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crionic Network Panel</title>
<style>
html,body {
  margin:0; padding:0; font-family:'Orbitron',sans-serif;
  background: radial-gradient(circle at center,#0b0b0f,#000);
  color:#00f3ff; overflow-x:hidden; height:100%;
}
.container {
  display:grid; grid-template-columns:repeat(3,1fr);
  grid-template-rows:repeat(3,auto); gap:12px; padding:12px;
}
.panel {
  backdrop-filter: blur(12px); border:1px solid rgba(0,255,255,0.3);
  background: rgba(255,255,255,0.06); border-radius:14px;
  padding:14px; box-shadow:0 0 18px rgba(0,255,255,0.3);
  transition:transform 0.3s, box-shadow 0.3s;
}
.panel:hover {transform:translateY(-3px); box-shadow:0 0 24px rgba(255,0,255,0.5);}
h2 {font-size:1.1rem; color:#fff; margin-top:0;}
.value {font-size:1.2rem; color:#0ff; font-weight:bold;}
.bar {
  height:10px; border-radius:10px; background:rgba(255,255,255,0.15);
  overflow:hidden; margin-top:6px;
}
.fill {
  height:100%; width:0%; border-radius:10px;
  background:linear-gradient(90deg,#00f3ff,#ff00ff,#00ff8f);
  background-size:200% 100%; animation:move 2s linear infinite;
}
@keyframes move {0%{background-position:0% 0;}100%{background-position:200% 0;}}
.refresh {
  position:fixed; top:8px; right:12px; font-size:0.9rem; color:#0ff; opacity:0.7;
}
.flag {width:24px; height:16px; cursor:pointer; margin-right:5px; border:1px solid #333;}
button {
  background:rgba(0,255,255,0.1); border:1px solid #00f3ff; border-radius:8px;
  color:#fff; cursor:pointer; padding:6px 10px; margin:4px 0;
}
button:hover {background:rgba(255,0,255,0.15);}
.links a {color:#ff00ff; text-decoration:none; margin-right:8px;}
.links a:hover {text-shadow:0 0 6px #ff00ff;}
@keyframes pulse {0%{opacity:0.7;}50%{opacity:1;}100%{opacity:0.7;}}
.pulse {animation:pulse 1s infinite;}
</style>
</head>
<body>
<div class="refresh">Last update: <span id="updateTime">-</span></div>
<div class="container">
  <div class="panel" id="network">
    <h2>Network</h2>
    <div>Hashrate: <span class="value" id="hashrate">...</span></div>
    <div class="bar"><div class="fill" id="hashbar"></div></div>
    <div>Difficulty: <span class="value" id="difficulty">...</span></div>
    <div class="bar"><div class="fill" id="diffbar"></div></div>
    <div>Connections: <span class="value" id="connections">...</span></div>
    <div class="bar"><div class="fill" id="connbar"></div></div>
  </div>
  <div class="panel" id="market">
    <h2>Market</h2>
    <div>Price (USD): <span class="value" id="price_usd">...</span></div>
    <div>Price (BTC): <span class="value" id="price_btc">...</span></div>
    <div>Supply: <span class="value" id="supply">...</span></div>
  </div>
  <div class="panel" id="wallet">
    <h2>Wallet</h2>
    <div>Address: <span style="font-size:0.8rem;color:#ccc;">KWMRuP9ExkHnGXLqUPHMxhjSzkHQYVgwtE</span></div>
    <div>Balance: <span class="value" id="balance">...</span></div>
    <div>Unpaid: <span class="value" id="unpaid">...</span></div>
    <div>Total: <span class="value" id="total">...</span></div>
  </div>
  <div class="panel" id="pools">
    <h2>Pools</h2>
    <div class="links">
      <a href="https://coin-miners.info" target="_blank">Coin-Miners</a>
      <a href="https://aikapool.com" target="_blank">AikaPool</a>
      <a href="https://mining4people.com" target="_blank">Mining4People</a>
      <a href="https://zpool.ca" target="_blank">ZPool</a>
    </div>
    <div id="poolData">Loading...</div>
  </div>
  <div class="panel" id="explorer">
    <h2>Explorer</h2>
    <div>Blocks: <span class="value" id="blocks">...</span></div>
    <div>Peers: <span class="value" id="peers">...</span></div>
    <div>Money Supply: <span class="value" id="moneysupply">...</span></div>
  </div>
  <div class="panel" id="downloads">
    <h2>Downloads</h2>
    <button onclick="window.open('https://github.com/diabaths/Crionic-Coin/releases')">Crionic Core Wallet</button><br>
    <button onclick="window.open('https://github.com/doktor83/SRBMiner-Multi/releases')">SRB Miner</button>
  </div>
  <div class="panel" id="community">
    <h2>Community</h2>
    <div class="links">
      <a href="https://twitter.com" target="_blank">Twitter</a>
      <a href="https://discord.com/invite/SKDkjcJTKM" target="_blank">Discord</a>
      <a href="https://app.komodoplatform.com/wallet/crnc" target="_blank">Komodo Wallet</a>
      <a href="https://trade.nestex.one/spot/CRNC_USDT" target="_blank">Nestex</a>
    </div>
  </div>
  <div class="panel" id="lang">
    <h2>Language</h2>
    <img src="https://flagcdn.com/w20/gb.png" class="flag" onclick="setLang('en')" alt="English">
    <img src="https://flagcdn.com/w20/sk.png" class="flag" onclick="setLang('sk')" alt="Slovak">
    <div id="visitCount"></div>
  </div>
</div>
<script>
const walletAddr = "KWMRuP9ExkHnGXLqUPHMxhjSzkHQYVgwtE";
const visitKey = "crionic_visits";
let count = parseInt(localStorage.getItem(visitKey)||"0")+1;
localStorage.setItem(visitKey,count);
document.getElementById("visitCount").innerText = "Visits: "+count;

function setLang(lang){localStorage.setItem("lang",lang);location.reload();}
function autoLang(){let l=navigator.language.startsWith("sk")?"sk":"en";localStorage.setItem("lang",l);}
if(!localStorage.getItem("lang")) autoLang();

async function fetchJSON(url){try{let r=await fetch(url);return await r.json();}catch(e){return null;}}

async function updateFast(){
  const diff = await fetchJSON("https://explorer.crionic.org/api/getdifficulty");
  const hash = await fetchJSON("https://explorer.crionic.org/api/getnetworkhashps");
  const conn = await fetchJSON("https://explorer.crionic.org/api/getconnectioncount");
  const summary = await fetchJSON("https://explorer.crionic.org/ext/getsummary");
  if(diff) document.getElementById("difficulty").innerText = diff;
  if(hash) document.getElementById("hashrate").innerText = parseFloat(hash/1e6).toFixed(2)+" MH/s";
  if(conn) document.getElementById("connections").innerText = conn;
  if(summary){
    document.getElementById("price_usd").innerText = summary.usd+" USD";
    document.getElementById("price_btc").innerText = summary.btc+" BTC";
  }
  const now=new Date();document.getElementById("updateTime").innerText=now.toLocaleTimeString();
  animateBars(diff,hash,conn);
}

function animateBars(diff,hash,conn){
  const hbar=document.getElementById("hashbar");
  const dbar=document.getElementById("diffbar");
  const cbar=document.getElementById("connbar");
  hbar.style.width=Math.min(100,(hash/1e7))+"%";
  dbar.style.width=Math.min(100,(diff/100000))+"%";
  cbar.style.width=Math.min(100,(conn*10))+"%";
}

async function updateSlow(){
  const wallet = await fetchJSON(`https://pool.coin-miners.info/api/wallet?address=${walletAddr}`);
  const status = await fetchJSON("https://pool.coin-miners.info/api/status");
  const money = await fetchJSON("https://explorer.crionic.org/ext/getmoneysupply");
  const peers = await fetchJSON("https://explorer.crionic.org/ext/getnetworkpeers");
  const blockcount = await fetchJSON("https://explorer.crionic.org/api/getblockcount");
  if(wallet){
    document.getElementById("balance").innerText=wallet.balance;
    document.getElementById("unpaid").innerText=wallet.unpaid;
    document.getElementById("total").innerText=wallet.total;
  }
  if(status){
    let text="";for(let k in status){let p=status[k];
      text+=`<div>${p.name.toUpperCase()} â€” ${p.workers} workers, ${(p.hashrate/1e6).toFixed(2)} MH/s</div>`;
    }
    document.getElementById("poolData").innerHTML=text;
  }
  if(money) document.getElementById("moneysupply").innerText = parseFloat(money).toFixed(0);
  if(peers) document.getElementById("peers").innerText = peers.length || 0;
  if(blockcount) document.getElementById("blocks").innerText = blockcount;
}

setInterval(updateFast,1000);
setInterval(updateSlow,10000);
updateFast();updateSlow();
</script>
</body>
</html>
